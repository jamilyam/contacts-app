(this["webpackJsonpcontacts-app"]=this["webpackJsonpcontacts-app"]||[]).push([[0],{112:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"loadedContacts",(function(){return j})),n.d(a,"addedContact",(function(){return D})),n.d(a,"deletedContact",(function(){return A})),n.d(a,"loadContacts",(function(){return k})),n.d(a,"addContact",(function(){return T})),n.d(a,"deleteContact",(function(){return g}));var c=n(0),r=n.n(c),l=n(51),o=n.n(l),i=n(59),u=n(15),s=n(82);var m=Object(u.c)({contacts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADED_CONTACTS":return t.contacts;case"ADDED_CONTACT":return[].concat(Object(s.a)(e),[Object.assign({},t.contact)]);case"DELETED_CONTACT":return e.filter((function(e){return e.id!==t.id}));default:return e}}}),d=n(78);var f=n(21),h=n(22),b=n(16),p=n(42),E=n(41),C=n(47),v=n.n(C),O=n(48),N=n.n(O),y=function(){function e(){Object(f.a)(this,e)}return Object(h.a)(e,null,[{key:"showAllContacts",value:function(){return N.a.get("https://my-json-server.typicode.com/RomanChasovitin/demo-api/users").then((function(e){return e.data})).catch((function(e){throw e}))}},{key:"getAllContacts",value:function(){return N.a.get("/api/contacts").then((function(e){return e.data})).catch((function(e){throw e}))}},{key:"saveContact",value:function(e){return N.a.post("/api/contacts",e).then((function(e){return e.data})).catch((function(e){throw e}))}},{key:"deleteContact",value:function(e){return N.a.delete("/api/contacts/"+e).then((function(e){return e.data})).catch((function(e){throw e}))}}]),e}();function j(e){return{type:"LOADED_CONTACTS",contacts:e}}function D(e){return{type:"ADDED_CONTACT",contact:e}}function A(e){return{type:"DELETED_CONTACT",id:e}}function k(){return function(e){return y.getAllContacts().then((function(t){e(j(t))})).catch((function(e){throw e}))}}function T(e){return function(t){return y.saveContact(e).then((function(e){return t(D(e))})).catch((function(e){throw e}))}}function g(e){return function(t){return y.deleteContact(e).then((function(){return t(A(e))})).catch((function(e){throw e}))}}var w=n(20),S=n(49),q=function(){return r.a.createElement(w.d,{initialValues:{firstName:"",lastName:"",email:""},validationSchema:S.a({firstName:S.b().max(15,"Must be 15 characters or less").required("Required"),lastName:S.b().max(20,"Must be 20 characters or less").required("Required"),email:S.b().email("Invalid email address").required("Required")}),onSubmit:function(e,t){var n=t.setSubmitting;setTimeout((function(){alert(JSON.stringify(e,null,2)),n(!1)}),400)}},r.a.createElement(w.c,null,r.a.createElement("label",{htmlFor:"firstName"},"First Name"),r.a.createElement(w.b,{name:"firstName",type:"text"}),r.a.createElement(w.a,{name:"firstName"}),r.a.createElement("label",{htmlFor:"lastName"},"Last Name"),r.a.createElement(w.b,{name:"lastName",type:"text"}),r.a.createElement(w.a,{name:"lastName"}),r.a.createElement("label",{htmlFor:"email"},"Email Address"),r.a.createElement(w.b,{name:"email",type:"email"}),r.a.createElement(w.a,{name:"email"}),r.a.createElement("button",{type:"submit"},"Submit")))},x=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(f.a)(this,n),(a=t.call(this,e)).onAddClick=a.onAddClick.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"onAddClick",value:function(e){e.preventDefault();var t={};t.name=this.refs.name.value,t.mobile=this.refs.mobile.value,t.email=this.refs.email.value,this.props.onAddContact(t)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.onAddClick},r.a.createElement(q,null)))}}]),n}(r.a.Component),_=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(f.a)(this,n),(a=t.call(this,e)).onDelete=a.onDelete.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"onDelete",value:function(){this.props.onDelete(this.props.id)}},{key:"render",value:function(){return r.a.createElement("tr",null,r.a.createElement("td",null,this.props.name),r.a.createElement("td",null,this.props.mobile),r.a.createElement("td",null,this.props.email),r.a.createElement("td",null,r.a.createElement("button",{onClick:this.onDelete,className:"btn btn-xs btn-danger"},"Delete")))}}]),n}(r.a.Component),L=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(f.a)(this,n),a=t.call(this,e),v.a.options.timeOut=1e3,v.a.options.positionClass="toast-bottom-right",a.addContact=a.addContact.bind(Object(b.a)(a)),a.deleteContact=a.deleteContact.bind(Object(b.a)(a)),a}return Object(h.a)(n,[{key:"addContact",value:function(e){this.props.actions.addContact(e).then((function(){return v.a.success("Contact added")})).catch((function(e){alert(e)}))}},{key:"deleteContact",value:function(e){this.props.actions.deleteContact(e).then((function(){return v.a.success("Contact deleted")})).catch((function(e){alert(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"panel panel-primary"},r.a.createElement("div",{className:"panel-heading"},r.a.createElement("b",null,"Contacts")),r.a.createElement("div",{className:"panel-body"},r.a.createElement("table",{className:"table table-striped table-condensed"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Mobile"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.props.contacts.map((function(t){return r.a.createElement(_,{key:t.id,id:t.id,name:t.name,mobile:t.mobile,email:t.email,onDelete:e.deleteContact})}))))))),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement(x,{onAddContact:this.addContact}))))}}]),n}(c.Component);var F=Object(i.b)((function(e,t){return{contacts:e.contacts}}),(function(e){return{actions:Object(u.b)(a,e)}}))(L),R=Object(u.d)(m,{},Object(u.a)(d.a));R.dispatch(k()),o.a.render(r.a.createElement(i.a,{store:R},r.a.createElement(F,null)),document.getElementById("root"))},83:function(e,t,n){e.exports=n(112)}},[[83,1,2]]]);
//# sourceMappingURL=main.8e664049.chunk.js.map